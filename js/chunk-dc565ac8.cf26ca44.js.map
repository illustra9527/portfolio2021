{"version":3,"sources":["webpack:///./src/components/pageTodo.vue?5b23","webpack:///./src/lib/isMobile.js","webpack:///src/components/pageTodo.vue","webpack:///./src/components/pageTodo.vue?d1e1","webpack:///./src/components/pageTodo.vue","webpack:///./src/components/pageTodo.vue?183e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","onInput","model","value","callback","$$v","input","expression","isMobile","$event","changeType","_l","item","key","isEditing","id","content","nativeOn","type","indexOf","_k","keyCode","editTodo","editText","slot","_s","done","edit","checkTodo","deleteTodo","todoData","length","_e","totalText","staticRenderFns","ua","window","navigator","userAgent","test","component"],"mappings":"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","file":"js/chunk-dc565ac8.cf26ca44.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"todo-wrap\"},[_c('h1',[_vm._v(\"TO DO LIST\")]),_c('div',{staticClass:\"todo-list\"},[_c('div',{staticClass:\"top\"},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"請輸入內容\"},on:{\"change\":_vm.onInput},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1),_c('div',{staticClass:\"filter-btns\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":_vm.isMobile ? 'mini' : ''},on:{\"click\":function($event){return _vm.changeType('')}}},[_vm._v(\" 全部 \")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":_vm.isMobile ? 'mini' : ''},on:{\"click\":function($event){return _vm.changeType('done')}}},[_vm._v(\" 已完成 \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":_vm.isMobile ? 'mini' : ''},on:{\"click\":function($event){return _vm.changeType('todo')}}},[_vm._v(\" 未完成 \")])],1),_c('div',{staticClass:\"content\"},[_vm._l((_vm.todoData),function(item){return _c('div',{key:(\"item-id-\" + (item.id)),staticClass:\"list-item\"},[_c('div',{staticClass:\"content-text\"},[(_vm.isEditing === item.id)?_c('el-input',{attrs:{\"placeholder\":item.content},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.editTodo(item.id)}},model:{value:(_vm.editText),callback:function ($$v) {_vm.editText=$$v},expression:\"editText\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-check\"},nativeOn:{\"click\":function($event){return _vm.editTodo(item.id)}},slot:\"append\"})],1):_c('div',[_vm._v(_vm._s(item.content))])],1),(_vm.isMobile)?_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"placement\":\"bottom-start\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"icon\":\"el-icon-edit\",\"disabled\":item.done},nativeOn:{\"click\":function($event){return _vm.edit(item.id, item.content)}}},[_vm._v(\" 編輯 \")]),_c('el-dropdown-item',{attrs:{\"icon\":item.done ? 'el-icon-success' : 'el-icon-circle-check'},nativeOn:{\"click\":function($event){return _vm.checkTodo(item.id)}}},[_vm._v(\" 完成 \")]),_c('el-dropdown-item',{attrs:{\"icon\":\"el-icon-delete\",\"disabled\":item.done},nativeOn:{\"click\":function($event){return _vm.deleteTodo(item.id)}}},[_vm._v(\" 刪除 \")])],1)],1):_c('div',{staticClass:\"content-btns\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"disabled\":item.done,\"circle\":\"\"},nativeOn:{\"click\":function($event){return _vm.edit(item.id, item.content)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":item.done ? 'success' : '',\"icon\":\"el-icon-check\",\"circle\":\"\"},nativeOn:{\"click\":function($event){return _vm.checkTodo(item.id)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"disabled\":item.done,\"circle\":\"\"},nativeOn:{\"click\":function($event){return _vm.deleteTodo(item.id)}}})],1)],1)}),(!_vm.todoData.length)?_c('div',{staticClass:\"tips\"},[_vm._v(\"查無資料喔\")]):_vm._e(),_c('div',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.totalText))])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable import/prefer-default-export */\nexport const isMobile = () => {\n    const ua = window.navigator.userAgent;\n\n    // 通常是 mobile 的話，在手機的 ua 裡面都會有 Mobi 這個字\n    if (/Mobi/i.test(ua)) {\n        return true;\n    }\n\n    return false;\n};\n","<template>\n    <div class=\"todo-wrap\">\n        <h1>TO DO LIST</h1>\n        <div class=\"todo-list\">\n            <div class=\"top\">\n                <el-input\n                    v-model=\"input\"\n                    placeholder=\"請輸入內容\"\n                    class=\"input\"\n                    @change=\"onInput\"\n                />\n            </div>\n            <div class=\"filter-btns\">\n                <el-button\n                    type=\"primary\"\n                    :size=\"isMobile ? 'mini' : ''\"\n                    @click=\"changeType('')\"\n                >\n                    全部\n                </el-button>\n                <el-button\n                    type=\"success\"\n                    :size=\"isMobile ? 'mini' : ''\"\n                    @click=\"changeType('done')\"\n                >\n                    已完成\n                </el-button>\n                <el-button\n                    type=\"danger\"\n                    :size=\"isMobile ? 'mini' : ''\"\n                    @click=\"changeType('todo')\"\n                >\n                    未完成\n                </el-button>\n            </div>\n            <div class=\"content\">\n                <div\n                    v-for=\"item in todoData\"\n                    :key=\"`item-id-${item.id}`\"\n                    class=\"list-item\"\n                >\n                    <div class=\"content-text\">\n                        <el-input\n                            v-if=\"isEditing === item.id\"\n                            v-model=\"editText\"\n                            :placeholder=\"item.content\"\n                            @keyup.enter.native=\"editTodo(item.id)\"\n                        >\n                            <el-button\n                                slot=\"append\"\n                                icon=\"el-icon-check\"\n                                @click.native=\"editTodo(item.id)\"\n                            />\n                        </el-input>\n                        <div v-else>{{ item.content }}</div>\n                    </div>\n                    <el-dropdown\n                        v-if=\"isMobile\"\n                        trigger=\"click\"\n                        placement=\"bottom-start\"\n                    >\n                        <span class=\"el-dropdown-link\">\n                            <i class=\"el-icon-arrow-down el-icon--right\" />\n                        </span>\n                        <el-dropdown-menu slot=\"dropdown\">\n                            <el-dropdown-item\n                                icon=\"el-icon-edit\"\n                                :disabled=\"item.done\"\n                                @click.native=\"edit(item.id, item.content)\"\n                            >\n                                編輯\n                            </el-dropdown-item>\n                            <el-dropdown-item\n                                :icon=\"item.done ? 'el-icon-success' : 'el-icon-circle-check'\"\n                                @click.native=\"checkTodo(item.id)\"\n                            >\n                                完成\n                            </el-dropdown-item>\n                            <el-dropdown-item\n                                icon=\"el-icon-delete\"\n                                :disabled=\"item.done\"\n                                @click.native=\"deleteTodo(item.id)\"\n                            >\n                                刪除\n                            </el-dropdown-item>\n                        </el-dropdown-menu>\n                    </el-dropdown>\n                    <div v-else class=\"content-btns\">\n                        <el-button\n                            size=\"mini\"\n                            type=\"primary\"\n                            icon=\"el-icon-edit\"\n                            :disabled=\"item.done\"\n                            circle\n                            @click.native=\"edit(item.id, item.content)\"\n                        />\n                        <el-button\n                            size=\"mini\"\n                            :type=\"item.done ? 'success' : ''\"\n                            icon=\"el-icon-check\"\n                            circle\n                            @click.native=\"checkTodo(item.id)\"\n                        />\n                        <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            icon=\"el-icon-delete\"\n                            :disabled=\"item.done\"\n                            circle\n                            @click.native=\"deleteTodo(item.id)\"\n                        />\n                    </div>\n                </div>\n                <div v-if=\"!todoData.length\" class=\"tips\">查無資料喔</div>\n                <div class=\"total\">{{ totalText }}</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { isMobile } from '@/lib/isMobile';\n\nexport default {\n    data() {\n        return {\n            input: '',\n            isMobile: isMobile(),\n            isEditing: null,\n            editText: '',\n            currentType: ''\n        };\n    },\n    computed: {\n        ...mapGetters({\n            todoList: 'getTodoList'\n        }),\n        todoData() {\n            if (this.currentType) {\n                return this.currentType === 'done'\n                    ? this.todoList.filter((item) => item.done)\n                    : this.todoList.filter((item) => !item.done);\n            }\n            return this.todoList;\n        },\n        totalText() {\n            const doneTodo = this.todoList.filter((item) => item.done).length;\n            const todo = this.todoList.length - doneTodo;\n            return `代辦事項共有 ${this.todoList.length} 筆 | 已完成 ${doneTodo} 筆 | 未完成 ${todo} 筆`;\n        }\n    },\n    methods: {\n        ...mapActions([\n            'actionSetTodo', 'actionSetTodoDone', 'actionEditTodo', 'actionDeleteTodo'\n        ]),\n        onInput() {\n            if (this.isEditing) {\n                this.errMsg();\n                return;\n            }\n            const data = {\n                content: this.input,\n                id: this.todoList.length ? this.todoList[this.todoList.length - 1].id + 1 : 1,\n                done: false\n            };\n            this.actionSetTodo([data]);\n            this.input = '';\n            this.currentType = '';\n        },\n        checkTodo(id) {\n            this.actionSetTodoDone(id);\n        },\n        edit(id, text) {\n            if (this.isEditing === id) {\n                this.isEditing = null;\n                this.$message.warning('您的變更未被儲存。若要儲存請編輯後 enter 或是點選打勾。');\n                return;\n            }\n            this.isEditing = id;\n            this.editText = text;\n        },\n        editTodo(id) {\n            this.actionEditTodo({ id, content: this.editText });\n            this.editText = '';\n            this.isEditing = null;\n        },\n        deleteTodo(id) {\n            if (this.isEditing) {\n                this.errMsg();\n                return;\n            }\n            this.actionDeleteTodo(id);\n            this.$message.success('刪除成功');\n        },\n        changeType(type) {\n            if (this.isEditing) {\n                this.errMsg();\n                return;\n            }\n            this.currentType = type;\n        },\n        errMsg() {\n            this.$message.error('若有代辦事項處於編輯狀態的話，無法處理其他事項。');\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    .todo-wrap {\n        padding: 50px 20px;\n\n        h1 {\n            text-align: center;\n        }\n\n        .todo-list {\n            position: relative;\n            margin: 0 auto;\n            width: 90%;\n            padding: 20px 20px 40px;\n            max-width: 650px;\n            min-width: 280px;\n            min-height: 500px;\n            border: 1px solid #CCC;\n            border-radius: 5px;\n        }\n\n        .top {\n            display: flex;\n            justify-content: center;\n            margin-bottom: 20px;\n            padding: 0 20px 20px;\n            border-bottom: 1px solid #CCC;\n        }\n\n        .input {\n            min-width: 240px;\n            width: 60%;\n        }\n\n        .filter-btns {\n            text-align: center;\n        }\n\n        .list-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin: 10px 20px;\n            padding: 10px 20px;\n            border-radius: 5px;\n            border: 1px solid #DDD;\n        }\n\n        .content-text {\n            width: 70%;\n            max-width: calc(100% - 20px);\n            word-wrap: break-word;\n        }\n\n        .content-btns {\n            min-width: 105px;\n        }\n\n        .tips {\n            margin-top: 30px;\n            text-align: center;\n        }\n\n        .total {\n            position: absolute;\n            bottom: 10px;\n            right: 10px;\n            padding: 0 20px;\n            font-size: 14px;\n            line-height: 20px;\n        }\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pageTodo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pageTodo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pageTodo.vue?vue&type=template&id=7140f8f2&scoped=true&\"\nimport script from \"./pageTodo.vue?vue&type=script&lang=js&\"\nexport * from \"./pageTodo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pageTodo.vue?vue&type=style&index=0&id=7140f8f2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7140f8f2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pageTodo.vue?vue&type=style&index=0&id=7140f8f2&lang=scss&scoped=true&\""],"sourceRoot":""}